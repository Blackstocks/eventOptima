import{T as k,c as w,a as b,u as T,b as v}from"./object-5cccc758.js";import{_ as S,u as E,a as I,r as d,o as u,c as p,b as n,w as C,d as y,e,f,g as _}from"./index-cb420f34.js";import{S as V,_ as N,a as $}from"./ges-2b5358a3.js";import{_ as j,a as q}from"./ecell-logo-fc4c1ef2.js";import{_ as A}from"./ils1-a3ad6702.js";import"./index-b0417868.js";const B={components:{Textinput:k},data(){return{checkbox:!1}},setup(){const h=w({email:b().required("Email is required").email(),password:b().required("Password is required").min(8)}),s=E(),i=I();T({validationSchema:h});const{value:t,errorMessage:l}=v("email"),{value:m,errorMessage:o}=v("password");return{email:t,emailError:l,password:m,passwordError:o,onSubmit:async()=>{try{const r=await y.post("https://api-ges.ecell-iitkgp.org/auth/jwt/create/",{email:t.value,password:m.value},{headers:{"Content-Type":"application/json"}});if(r.data&&r.data.access){localStorage.setItem("accessToken",r.data.access),localStorage.setItem("refreshToken",r.data.refresh);try{const g=localStorage.getItem("accessToken"),x=await y.get("https://api-ges.ecell-iitkgp.org/auth/users/me/",{headers:{"Content-Type":"application/json",Authorization:`JWT ${g}`}});x.data&&localStorage.setItem("user",JSON.stringify(x.data))}catch(g){console.error(g)}const c=JSON.parse(localStorage.getItem("user"));c.user_type==="Student"||c.user_type=="Campus Ambassador"?i.push("/student/home"):c.user_type==="Startup"?i.push("/startup/home"):c.user_type=="Professional"?i.push("/professional/home"):c.user_type=="Contingent"&&i.push("/contingent/home"),s.success("Login successfully",{timeout:2e3})}else s.error("Invalid credentials",{timeout:2e3})}catch{s.error("Login failed",{timeout:2e3})}}}}},P=e("button",{type:"submit",class:"btn btn-dark block w-full text-center"}," Sign in ",-1);function R(h,s,i,t,l,m){const o=d("Textinput");return u(),p("form",{ref:"signin",onSubmit:s[2]||(s[2]=C((...a)=>t.onSubmit&&t.onSubmit(...a),["prevent"])),class:"space-y-4"},[n(o,{label:"Email",type:"email",placeholder:"Enter your email",name:"email",modelValue:t.email,"onUpdate:modelValue":s[0]||(s[0]=a=>t.email=a),error:t.emailError,classInput:"h-[48px]"},null,8,["modelValue","error"]),n(o,{label:"Password",type:"password",placeholder:"Enter your password",name:"password",modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=a=>t.password=a),error:t.passwordError,hasicon:"",classInput:"h-[48px]"},null,8,["modelValue","error"]),P],544)}const W=S(B,[["render",R]]),z={data(){return{logoWhite:j,logo:q,sideImg:A}},components:{Social:V,Signin:W,earth:N}},J={class:"loginwrapper"},M={class:"lg-inner-column"},D={class:"left-column relative z-[1] bg-[#010214]",style:{"background-color":"#010214 !important"}},F={class:"max-w-[520px] pt-24 ltr:pl-20 rtl:pr-20 text-center bg-[#010214]"},L=["src"],O=e("p",{class:"mb-6"},"presents",-1),U=e("img",{src:$,alt:"",class:"mb-4 mx-auto"},null,-1),K={className:"bg-[#010214] absolute bottom-[-20vh] -z-10 "},G={class:"right-column relative"},H={class:"inner-content h-full flex flex-col bg-white dark:bg-slate-800"},Q={class:"auth-box h-full flex flex-col justify-center"},X={class:"mobile-logo text-center mb-6 lg:hidden block"},Y=["src"],Z=["src"],ee=e("div",{class:"text-center 2xl:mb-10 mb-4"},[e("h4",{class:"font-medium"},"Sign in"),e("div",{class:"text-slate-500 text-base"}," Sign in to your account ")],-1),te={class:"md:max-w-[345px] mx-auto font-normal text-slate-500 dark:text-slate-400 mt-12 uppercase text-sm"},se=e("div",{class:"auth-footer text-center"},[_(" Copyright 2024, Entrepreneurship Cell, IIT Kharagpur All Rights Reserved. "),e("br",{class:"pt-4"}),e("a",{href:"https://reg-ges.ecell-iitkgp.org/termsandconditions",target:"_blank",class:"text-slate-900 font-semibold"}," Terms & Conditions "),_(" | "),e("a",{href:"https://reg-ges.ecell-iitkgp.org/refundpolicy",target:"_blank",class:"text-slate-900 font-semibold"}," Refund Policy ")],-1);function oe(h,s,i,t,l,m){const o=d("router-link"),a=d("earth"),r=d("Signin");return u(),p("div",J,[e("div",M,[e("div",D,[e("div",F,[n(o,{to:"/"},{default:f(()=>[e("img",{src:l.logoWhite,alt:"",class:"mb-4 mx-auto h-20"},null,8,L)]),_:1}),O,U]),e("div",K,[n(a)])]),e("div",G,[e("div",H,[e("div",Q,[e("div",X,[n(o,{to:"/"},{default:f(()=>[this.$store.themeSettingsStore.isDark?(u(),p("img",{key:1,src:l.logoWhite,alt:"",class:"mx-auto"},null,8,Z)):(u(),p("img",{key:0,src:l.logo,alt:"",class:"mx-auto"},null,8,Y))]),_:1})]),ee,n(r),e("div",te,[_(" Donâ€™t have an account? "),n(o,{to:"/register",class:"text-[#BE3A44] dark:text-white font-medium hover:underline"},{default:f(()=>[_(" Sign up ")]),_:1})])]),se])])])])}const me=S(z,[["render",oe]]);export{me as default};
