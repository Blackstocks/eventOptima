import{a as E,f as k,o as y,V as A,w as L,t as $,b as R,R as O,c as f,h as T,M as b,u as C,d as G}from"./micro-task-a4f781e6.js";import{h as I,i as P,D as w,v as x,x as M,G as N,M as U,j as D,U as j,H as W}from"./index-cb420f34.js";let q=I({props:{onFocus:{type:Function,required:!0}},setup(a){let u=P(!0);return()=>u.value?w(k,{as:"button",type:"button",features:E.Focusable,onFocus(i){i.preventDefault();let s,e=50;function o(){var l;if(e--<=0){s&&cancelAnimationFrame(s);return}if((l=a.onFocus)!=null&&l.call(a)){u.value=!1,cancelAnimationFrame(s);return}s=requestAnimationFrame(o)}s=requestAnimationFrame(o)}}):null}}),B=Symbol("TabsContext");function S(a){let u=W(B,null);if(u===null){let i=new Error(`<${a} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,S),i}return u}let K=I({name:"TabGroup",emits:{change:a=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(a,{slots:u,attrs:i,emit:s}){let e=P(null),o=P([]),l=P([]),p=x(()=>a.selectedIndex!==null),c=x(()=>p.value?a.selectedIndex:e.value),m={selectedIndex:e,orientation:x(()=>a.vertical?"vertical":"horizontal"),activation:x(()=>a.manual?"manual":"auto"),tabs:o,panels:l,setSelectedIndex(n){c.value!==n&&s("change",n),p.value||(e.value=n)},registerTab(n){o.value.includes(n)||o.value.push(n)},unregisterTab(n){let r=o.value.indexOf(n);r!==-1&&o.value.splice(r,1)},registerPanel(n){l.value.includes(n)||l.value.push(n)},unregisterPanel(n){let r=l.value.indexOf(n);r!==-1&&l.value.splice(r,1)}};return M(B,m),N(()=>{var n;if(m.tabs.value.length<=0||a.selectedIndex===null&&e.value!==null)return;let r=m.tabs.value.map(g=>y(g)).filter(Boolean),d=r.filter(g=>!g.hasAttribute("disabled")),h=(n=a.selectedIndex)!=null?n:a.defaultIndex;if(h<0)e.value=r.indexOf(d[0]);else if(h>m.tabs.value.length)e.value=r.indexOf(d[d.length-1]);else{let g=r.slice(0,h),t=[...r.slice(h),...g].find(v=>d.includes(v));if(!t)return;e.value=r.indexOf(t)}}),()=>{let n={selectedIndex:e.value};return w(U,[o.value.length<=0&&w(q,{onFocus:()=>{for(let r of o.value){let d=y(r);if((d==null?void 0:d.tabIndex)===0)return d.focus(),!0}return!1}}),A({theirProps:{...i,...L(a,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:n,slots:u,attrs:i,name:"TabGroup"})])}}}),V=I({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(a,{attrs:u,slots:i}){let s=S("TabList");return()=>{let e={selectedIndex:s.selectedIndex.value},o={role:"tablist","aria-orientation":s.orientation.value};return A({ourProps:o,theirProps:a,slot:e,attrs:u,slots:i,name:"TabList"})}}}),J=I({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(a,{attrs:u,slots:i,expose:s}){let e=S("Tab"),o=`headlessui-tabs-tab-${$()}`,l=P(null);s({el:l,$el:l}),D(()=>e.registerTab(l)),j(()=>e.unregisterTab(l));let p=x(()=>e.tabs.value.indexOf(l)),c=x(()=>p.value===e.selectedIndex.value);function m(t){let v=e.tabs.value.map(F=>y(F)).filter(Boolean);if(t.key===f.Space||t.key===f.Enter){t.preventDefault(),t.stopPropagation(),e.setSelectedIndex(p.value);return}switch(t.key){case f.Home:case f.PageUp:return t.preventDefault(),t.stopPropagation(),T(v,b.First);case f.End:case f.PageDown:return t.preventDefault(),t.stopPropagation(),T(v,b.Last)}if(C(e.orientation.value,{vertical(){if(t.key===f.ArrowUp)return T(v,b.Previous|b.WrapAround);if(t.key===f.ArrowDown)return T(v,b.Next|b.WrapAround)},horizontal(){if(t.key===f.ArrowLeft)return T(v,b.Previous|b.WrapAround);if(t.key===f.ArrowRight)return T(v,b.Next|b.WrapAround)}}))return t.preventDefault()}function n(){var t;(t=y(l))==null||t.focus()}let r=P(!1);function d(){var t;r.value||(r.value=!0,!a.disabled&&((t=y(l))==null||t.focus(),e.setSelectedIndex(p.value),G(()=>{r.value=!1})))}function h(t){t.preventDefault()}let g=R(x(()=>({as:a.as,type:u.type})),l);return()=>{var t;let v={selected:c.value},F={ref:l,onKeydown:m,onFocus:e.activation.value==="manual"?n:d,onMousedown:h,onClick:d,id:o,role:"tab",type:g.value,"aria-controls":(t=y(e.panels.value[p.value]))==null?void 0:t.id,"aria-selected":c.value,tabIndex:c.value?0:-1,disabled:a.disabled?!0:void 0};return A({ourProps:F,theirProps:a,slot:v,attrs:u,slots:i,name:"Tab"})}}}),Q=I({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(a,{slots:u,attrs:i}){let s=S("TabPanels");return()=>{let e={selectedIndex:s.selectedIndex.value};return A({theirProps:a,ourProps:{},slot:e,attrs:i,slots:u,name:"TabPanels"})}}}),X=I({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(a,{attrs:u,slots:i,expose:s}){let e=S("TabPanel"),o=`headlessui-tabs-panel-${$()}`,l=P(null);s({el:l,$el:l}),D(()=>e.registerPanel(l)),j(()=>e.unregisterPanel(l));let p=x(()=>e.panels.value.indexOf(l)),c=x(()=>p.value===e.selectedIndex.value);return()=>{var m;let n={selected:c.value},r={ref:l,id:o,role:"tabpanel","aria-labelledby":(m=y(e.tabs.value[p.value]))==null?void 0:m.id,tabIndex:c.value?0:-1};return!c.value&&a.unmount?w(k,{as:"span",...r}):A({ourProps:r,theirProps:a,slot:n,attrs:u,slots:i,features:O.Static|O.RenderStrategy,visible:c.value,name:"TabPanel"})}}});export{V as a,K as l,J as n,Q as r,X as u};
